---
apiVersion: batch/v1
kind: Job
metadata:
  name: delete-index-jaeger-service
spec:
  template:
    spec:
      containers:
        - name: index-deleter
          image: registry.access.redhat.com/ubi10-minimal:10.0-1758699349
          command:
            - curl
            - -X
            - DELETE
            - http://opensearch-cluster-master:9200/jaeger-service-*
      restartPolicy: Never
  ttlSecondsAfterFinished: 60
---
apiVersion: batch/v1
kind: Job
metadata:
  name: delete-index-jaeger-span
spec:
  template:
    spec:
      containers:
        - name: index-deleter
          image: registry.access.redhat.com/ubi10-minimal:10.0-1758699349
          command:
            - curl
            - -X
            - DELETE
            - http://opensearch-cluster-master:9200/jaeger-span-*
      restartPolicy: Never
  ttlSecondsAfterFinished: 60
---
apiVersion: batch/v1
kind: Job
metadata:
  name: delete-index-top-queries
spec:
  template:
    spec:
      containers:
        - name: index-deleter
          image: registry.access.redhat.com/ubi10-minimal:10.0-1758699349
          command:
            - curl
            - -X
            - DELETE
            - http://opensearch-cluster-master:9200/top_queries-*
      restartPolicy: Never
  ttlSecondsAfterFinished: 60
