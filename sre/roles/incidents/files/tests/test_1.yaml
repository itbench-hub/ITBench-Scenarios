---
metadata:
  id: 1
  name: Test Custom Faults
spec:
  environment:
    applications:
      - otel-demo
    kubernetes:
      additions: []
      modifications: []
    tools:
      category: ""
      selected:
        - jaeger
        - clickhouse
        - prometheus
  faults:
    - custom:
        name: invalid-node-selector
        targets:
          workload_managers:
            - kind: Deployment
              name: image-provider
              namespace: "{{ applications_helm_releases.otel_demo.namespace }}"
    - custom:
        name: misconfigured-command
        targets:
          workload_managers:
            - kind: Deployment
              name: checkout
              namespace: "{{ applications_helm_releases.otel_demo.namespace }}"
    - custom:
        name: misconfigured-service-port
        targets:
          services:
            - name: cart
              namespace: "{{ applications_helm_releases.otel_demo.namespace }}"
              targetPort: 8080
    # - custom:
    #     name: unsupported-image
    #     targets:
    #       workload_managers:
    #         - kind: Deployment
    #           name: recommendation
    #           namespace: "{{ applications_helm_releases.otel_demo.namespace }}"
