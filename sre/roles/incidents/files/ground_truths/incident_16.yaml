---
fault:
  - entity:
      name: checkout-deployment
      group_id: checkout-deployment
      kind: Deployment
    condition: To Be Specified
    category: Change
    fault_mechanism: custom
technologies:
  - Go
  - Node.js
alerts:
  - id: RequestErrorRate
    group_id: frontend-service-1
    metadata:
      description: Error Rate is Above Threshold
  - id: RequestErrorRate
    group_id: checkout-service-1
    metadata:
      description: Error Rate is Above Threshold
groups:
  - id: checkout-deployment
    kind: Deployment
    filter:
        - checkout\b
    namespace: otel-demo
    root_cause: true
  - id: checkout-service-1
    kind: Service
    filter:
        - checkout\b
    namespace: otel-demo
  - id: frontend-service-1
    kind: Service
    filter:
        - frontend\b
    namespace: otel-demo
  - id: frontend-pod-1
    kind: Pod
    namespace: otel-demo
    filter:
      - frontend-.*
  - id: checkout-pod-1
    kind: Pod
    namespace: otel-demo
    filter:
      - checkoutservice-.*
aliases:
  - - frontend-service-1
    - frontend-pod-1
  - - checkout-service-1
    - checkout-pod-1
propagations:
  - source: checkout-deployment
    target: checkout-service-1
    condition: checkoutservice deployment wrong port in env variable PRODUCT_CATALOG_SERVICE_ADDR
    effect: checkout service Error Rate is Above Threshold
  - source: checkout-service-1
    target: frontend-service-1
    condition: checkout service Error Rate is Above Threshold
    effect: frontend service Error Rate is Above Threshold
recommended_actions:
  - solution:
      id: change_the_env_variable_PRODUCT_CATALOG_SERVICE_ADDR_pointing_to_the_correct_port_of_product-catalogservice
      actions:
        - change the env variable PRODUCT_CATALOG_SERVICE_ADDR pointing to the correct
          port of service product-catalogue
