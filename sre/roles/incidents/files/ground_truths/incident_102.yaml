---
fault:
  - entity:
      name: search-pod-1
      group_id: search-pod-1
      kind: Pod
    condition: "To Be Specified"
    category: "Other"
    fault_mechanism: custom
alerts:
  - id: RequestErrorRate
    group_id: frontend-service-1
    metadata:
      description: Error rate is above threshold for frontend service
groups:
  - id: search-namespace
    kind: Namespace
    name: hotel-reservations
    namespace: ""
    root_cause: true
  - id: search-service-1
    kind: Service
    filter:
    - .*search-.*
    namespace: hotel-reservations
  - id: search-deployment-1
    kind: Deployment
    filter:
    - .*search-.*
    namespace: hotel-reservations
  - id: frontend-service-1
    kind: Service
    filter:
    - .*frontend-.*
    namespace: hotel-reservations
  - id: frontend-pod
    kind: Pod
    namespace: hotel-reservations
    filter:
    - .*frontend-.*
aliases:
  - - search-deployment-1
    - search-service-1
  - - frontend-service-1
    - frontend-pod
propagations:
  - source: search-deployment-1
    target: frontend-service-1
    condition: searchservice replicaset has 0 pods causing searchservice to be unavailable
    effect: frontend service Error Rate is Above Threshold
recommended_actions:
  - solution:
      id: increase_memory_resource_limit
      actions:
      - increase memory resource limit
  - solution:
      id: reduce_memory_on_deployment_pods
      actions:
      - patch deployments or pods to reduce the requested memory
