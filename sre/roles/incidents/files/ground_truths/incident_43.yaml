---
metadata:
  version: "v1"
fault:
  - entity:
      name: frontend-pod
      group_id: frontend-pod-1
      kind: Pod
    condition: DNS configuration misconfigured with excessive ndots value causing DNS query overload
    category: Configuration
    fault_mechanism: custom
alerts:
  - id: RequestLatency
    group_id: frontend-service-1
    metadata:
      description: Latency in service frontend in namespace otel-demo is above 1500ms
  - id: NoRequestsDetected
    group_id: frontend-service-1
    metadata:
      description: No requests detected in service frontend in namespace otel-demo
groups:
  - id: frontend-pod-1
    kind: Pod
    filter:
      - frontend-.*
    namespace: otel-demo
    root_cause: true
  - id: frontend-service-1
    kind: Service
    filter:
      - frontend\b
    namespace: otel-demo
aliases:
  - - frontend-service-1
    - frontend-pod-1
propagations:
  - source: frontend-pod-1
    target: frontend-service-1
    condition: Frontend pod experiencing slow DNS resolution due to excessive DNS queries from high ndots value
    effect: Frontend service experiences high latency when resolving service names
recommended_actions:
  - solution:
      id: fix_dns_configuration
      actions:
        - Remove dnsConfig from frontend deployment
        - Restart frontend pods
