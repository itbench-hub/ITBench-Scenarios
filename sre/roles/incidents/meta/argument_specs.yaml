---
argument_specs:
  main:
    short_description: Entry point for the incidents tasks
    description:
      - This set of tasks loads a file containing an incident spec. The spec is then used to generate the relevant variables required for code execution.
    author:
      - Gerard Vanloo
    options:
      incidents_file:
        required: true
        type: dict
        options:
          id:
            required: true
            type: int
  validate_ground_truth:
    short_description: Entry point for ground truth validation
    description:
      - Theses tasks verify the spec of a incident.
    author:
      - Gerard Vanloo
    options:
      incidents_ground_truth:
        required: true
        type: dict
        options:
          alerts:
            elements: dict
            required: true
            type: list
            options:
              id:
                choices:
                  - RequestErrorRate
                  - RequestLatency
                required: true
                type: str
              group_id:
                required: true
                type: str
              metadata:
                required: true
                type: dict
                options:
                  description:
                    required: true
                    type: str
          aliases:
            elements: list
            required: false
            type: list
          fault:
            elements: dict
            required: true
            type: list
            options:
              category:
                required: true
                type: str
              condition:
                required: true
                type: str
              entity:
                required: true
                type: dict
                options:
                  kind:
                    required: true
                    type: str
                  group_id:
                    required: true
                    type: str
                  name:
                    required: true
                    type: str
              fault_mechanism:
                required: true
                type: str
          groups:
            elements: dict
            required: true
            type: list
            options:
              kind:
                required: true
                type: str
              filter:
                elements: str
                required: true
                type: list
              id:
                required: true
                type: str
              namespace:
                required: true
                type: str
              root_cause:
                required: true
                type: bool
          propagations:
            elements: dict
            required: false
            type: list
            options:
              condition:
                required: true
                type: str
              effect:
                required: true
                type: str
              source:
                required: true
                type: str
              target:
                required: true
                type: str
          recommended_actions:
            elements: dict
            required: true
            type: list
            options:
              solution:
                required: true
                type: dict
                options:
                  actions:
                    elements: str
                    required: true
                    type: list
                  id:
                    required: true
                    type: str
  validate_spec:
    short_description: Main entry point for spec validation
    description:
      - Theses tasks verify the spec of a incident.
    author:
      - Gerard Vanloo
    options:
      incidents_spec:
        required: true
        type: dict
        options:
          metadata:
            required: true
            type: dict
            options:
              complexity:
                choices:
                  - Low
                  - Medium
                  - High
                required: true
                type: str
              id:
                required: true
                type: int
              name:
                required: true
                type: str
              platform:
                choices:
                  - kubernetes
                required: true
                type: str
          spec:
            required: true
            type: dict
            options:
              environment:
                required: true
                type: dict
                options:
                  applications:
                    required: true
                    type: dict
                    options:
                      otel_demo:
                        required: true
                        type: dict
                        options:
                          enabled:
                            required: true
                            type: bool
                          configuration:
                            required: false
                            type: dict
                  tools:
                    required: true
                    type: dict
                    options:
                      category:
                        choices:
                          - sre
                          - finops
                        required: false
                        type: str
                      selected:
                        elements: str
                        required: false
                        type: list
              faults:
                elements: dict
                required: true
                type: list
